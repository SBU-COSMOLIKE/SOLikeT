version: 2
updates:
  - package-ecosystem: github-actions
    directory: /
    schedule:
      interval: "weekly"
    open-pull-requests-limit: 10
    labels:
      - "dependencies"
      - "ci"
    # Group GitHub Actions updates into smaller logical groups so PRs are
    # easier to review. Adjust patterns to taste.
    groups:
      actions-security:
        patterns:
          - "dependabot/**"
      actions-all:
        patterns:
          - "*"

  # Also update Python dependencies declared in pyproject.toml / requirements files
  - package-ecosystem: pip
    directory: "/"
    schedule:
      interval: "weekly"
    open-pull-requests-limit: 5
    labels:
      - "dependencies"
      - "python"
    # Dependabot will attempt to update dependencies declared in pyproject.toml
    # or requirements files. For deterministic updates we recommend tracking
    # a lockfile (requirements.txt / uv.lock generated by `uv lock`).

    # Groups aligned with sections in pyproject.toml
    groups:
      python-core-runtime:
        patterns:
          - "requests"
          - "scipy"
          - "cobaya"
          - "sacc"
          - "camb"
          - "getdist"
          - "numpy"
          - "astropy"
          - "pandas"
      python-emulator:
        patterns:
          - "cosmopower"
          - "tensorflow*"
          - "tensorflow-probability"
      python-pyccl:
        patterns:
          - "pyccl"
      python-pyhalomodel:
        patterns:
          - "pyhalomodel"
      python-mflike:
        patterns:
          - "mflike"
          - "fgspectra"
          - "syslibrary"
      python-dev-docs:
        patterns:
          - "sphinx"
          - "sphinx-rtd-theme"
          - "pytest"
          - "pytest-cov"
          - "ruff"
          - "scikit-learn"
          - "pre-commit"
